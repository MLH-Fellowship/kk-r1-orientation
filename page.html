<!DOCTYPE html>
<html>

<head>
  <title>StockClock Predictor</title>
</head>

<body>

<form id="tickerpicker">
  <label for="fname">Ticker Symbol</label>
  <input type="text" id="fname" name="fname">
  <input type="submit" value="Submit">
</form>

  <canvas id="myChart" width="400" height="400"></canvas>
  <script src="/home/drewehrlich/Downloads/package/dist/Chart.js"></script>
<script>
var ctx = document.getElementById('myChart').getContext('2d');
async function fetchF() {
  const response = await fetch('http://localhost:8010/proxy/predict', {
        method: 'POST',
        headers: {
            'accept': '*/*',
            'Content-Type': 'application/json',
            'Access-Control-Allow-Origin': '*'
        },
        body: JSON.stringify({"ticker":"AAPL","months":3})
    });
  const data = await response.json();
  return data;
}
let data;
fetchF().then(ret => {data = ret;console.log(data);

var myChart = new Chart(ctx, {
    type: 'line',
    data: {
        datasets: [{
            label: 'Stock Prediction',
            data: data,
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
});
});
</script>
</body>

</html>
